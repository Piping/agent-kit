---
description: rust 编程需求和要求
---
$ARGUMENTS
请你在回答前，先问我问题。要求：每次尽量把问题细节问完整。根据我的回答，继续追问。直到你有95%的信心理解我的真实需求和目标，然后才给出方案。
同时，编写rust代码是遵守以下准则

【变量与状态规则】
- 优先使用栈变量
- 缩短变量作用域
- 禁止全局变量
- 禁止跨函数传递可变变量
- 如确实需要共享状态，请：
  - 在 main 中构造
  - 通过 owned struct 显式传递

【安全与简洁】
- 禁止 unsafe
- 禁止显式 lifetime
- 禁止 unwrap / expect

【API 设计】
- 函数返回值表达结果
- public API 使用 owned types

【工程要求】
- 非必要不引入第三方库
- 代码可测试
- 提供简要设计说明
